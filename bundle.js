(()=>{"use strict";class e{static createGenericElement(e,t=null,s={},...a){const l=document.createElement(e);return null!==t&&(l.textContent=t),a&&a.forEach((e=>l.append(e))),s&&Object.entries(s).forEach((([e,t])=>{l.setAttribute(e,t)})),l}static createElement(e,t=null,s={},...a){return this.createGenericElement(e,t,s,...a)}}class t{createArrangeAreaBox(t,s){const a=e.createElement("h2",t,{class:"box__title"}),l=e.createElement("input","",{class:"box__input",placeholder:`Search ${t.toLowerCase()}`}),i=e.createElement("div","",{class:"box__search"},l);return a.textContent,i.addEventListener("input",(()=>function(e,t){const s=t.value.toLowerCase();Array.from(e.children).forEach((e=>{const t=e;t.textContent.toLowerCase().includes(s)?t.style.display="block":t.style.display="none"}))}(s,l))),e.createElement("div","",{class:"arrange-area__box"},a,i,s)}}class s{constructor(){this.buttonsArr=[]}createButtons(t,s,a){const l=e.createElement("div","",{class:"box_buttons-container"});for(let i=0;i<t;i+=1){const t=e.createElement("button",s[i],{class:"box__button"});t.addEventListener("click",a[i]),l.append(t),this.buttonsArr.push(t)}return l}disableBtn(...e){e.forEach((e=>{const t=e;t.disabled=!0,t.classList.add("disabled")}))}allowBtn(...e){e.forEach((e=>{const t=e;t.disabled=!1,t.classList.remove("disabled")}))}}class a{generateRandomStringArray(e,t){const s=[];for(let a=0;a<e;a+=1){const e=Math.floor(Math.random()*t)+1;let a="";for(let t=0;t<e;t+=1)a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(52*Math.random()));s.push(a)}return s}}class l{constructor(){const t=e.createElement("p","Enter new value",{class:"modal-text"}),s=e.createElement("input","",{class:"modal-input"}),a=e.createElement("span","Please enter a value",{class:"hint-text"}),l=e.createElement("button","Add",{class:"modal-btn"}),i=e.createElement("button","Cancel",{class:"modal-btn"}),r=e.createElement("div","",{class:"modal-buttons"},l,i),n=e.createElement("div","",{class:"modal-content"},t,s,a,r);this.modal=e.createElement("div","",{class:"modal"},n),document.body.append(this.modal),this.confirmBtn=l,this.cancelBtn=i,this.input=s,this.displayModal=this.displayModal.bind(this),this.closeModal=this.closeModal.bind(this),this.input.addEventListener("input",(()=>{this.checkInputValue()}))}displayModal(e){this.confirmBtn.addEventListener("click",(()=>{this.checkInputValue(),""!==this.input.value.trim()&&(e(this.input.value),this.closeModal())})),this.cancelBtn.addEventListener("click",(()=>{this.closeModal()})),this.input.nextElementSibling.textContent="Please enter a value",this.modal.classList.add("open"),this.input.focus()}closeModal(){this.modal.classList.remove("open"),this.input.value=""}checkInputValue(){""===this.input.value.trim()?this.input.nextElementSibling.textContent="Please enter a value":this.input.nextElementSibling.textContent=""}}class i{constructor(){const t=e.createElement("p","List",{class:"modal-text"}),s=e.createElement("button","Ок",{class:"modal-btn"});this.list=e.createElement("ul","",{class:"modal-list"});const a=e.createElement("div","",{class:"modal-content"},t,this.list,s);this.modal=e.createElement("div","",{class:"modal"},a),document.body.append(this.modal),this.confirmBtn=s,this.displayModal=this.displayModal.bind(this),this.closeModal=this.closeModal.bind(this)}displayModal(e){this.confirmBtn.addEventListener("click",(()=>{e(),this.closeModal()})),this.modal.classList.add("open")}closeModal(){this.modal.classList.remove("open")}addItemToList(t){const s=t.split(",");this.list.innerHTML="",s.forEach((t=>{const s=e.createElement("li",t);this.list.append(s)}))}}class r{constructor(){this.clickedElement=null,this.clickedList=[]}createList(t){const s=e.createElement("ul","",{class:"box__list list-reset"});return void 0===t||t.forEach((t=>{const a=e.createElement("li",t,{class:"box__list-item"});a.addEventListener("click",(()=>this.clickItem(a))),s.append(a)})),s}addClickedClass(e){e.classList.add("clicked-item")}removeClickedClass(e){e.classList.remove("clicked-item")}clickItem(e){this.clickedList||(this.clickedList=[]),this.clickedList.includes(e)?(this.clickedList=this.clickedList.filter((t=>t!==e)),this.removeClickedClass(e)):(this.clickedList.push(e),this.addClickedClass(e))}}class n{constructor(e,t,s){this.arrAvailable=e,this.arrSelected=t,this.buttonsArr=s}showValues(e){const t=new i;let s=Array.from(e.children).map((e=>e.textContent));console.log(e.id),s.length?(s=s.join(", "),s=`Полученные значения:, ${s}`,t.addItemToList(s)):(s="Значений нет",t.addItemToList(s)),t.displayModal((()=>{}))}moveAllToSelected(){this.moveItems(this.arrAvailable,this.arrSelected)}moveAllToAvailable(){this.moveItems(this.arrSelected,this.arrAvailable)}moveItems(e,t){Array.from(e.children).forEach((e=>{t.append(e),e.classList.remove("clicked-item")}))}moveSomeToSelected(){this.moveSelectedItems(this.arrAvailable,this.arrSelected)}moveSomeToAvailable(){this.moveSelectedItems(this.arrSelected,this.arrAvailable)}moveSelectedItems(e,t){Array.from(e.children).forEach((e=>{e.classList.contains("clicked-item")&&(t.append(e),e.classList.remove("clicked-item"))}))}upAllInAvailable(){this.reorderSelectedItems(this.arrAvailable,!0)}upAllInSelected(){this.reorderSelectedItems(this.arrSelected,!0)}downAllInAvailable(){this.reorderSelectedItems(this.arrAvailable,!1)}downAllInSelected(){this.reorderSelectedItems(this.arrSelected,!1)}reorderSelectedItems(e,t){const s=Array.from(e.querySelectorAll(".clicked-item"));s.sort(((t,s)=>Array.from(e.children).indexOf(t)-Array.from(e.children).indexOf(s)));const a=e.children[0];s.forEach((s=>{t?e.insertBefore(s,a):e.append(s)}))}upOneInAvailable(){this.moveItemUp(this.arrAvailable)}upOneInSelected(){this.moveItemUp(this.arrSelected)}downOneInAvailable(){this.moveItemDown(this.arrAvailable)}downOneInSelected(){this.moveItemDown(this.arrSelected)}moveItemUp(e){const t=Array.from(e.querySelectorAll(".clicked-item"));t.sort(((t,s)=>Array.from(e.children).indexOf(t)-Array.from(e.children).indexOf(s)));const s=t.map((t=>Array.from(e.children).indexOf(t)));t.forEach(((t,a)=>{const l=s[a]-1;if(l>=0){const s=e.children[l];e.insertBefore(t,s)}}))}moveItemDown(e){const t=Array.from(e.querySelectorAll(".clicked-item"));t.sort(((t,s)=>Array.from(e.children).indexOf(s)-Array.from(e.children).indexOf(t)));const s=t.map((t=>Array.from(e.children).indexOf(t)));t.forEach(((t,a)=>{const l=s[a]+1;if(l<e.children.length){const s=e.children[l];e.insertBefore(t,s.nextSibling)}}))}addListElement(t){const s=new l,a=new r;s.displayModal((s=>{const l=e.createElement("li",s,{class:"box__list-item"});return l.addEventListener("click",(()=>a.clickItem(l))),t.append(l),l}))}delListElement(e){Array.from(e.children).forEach((e=>{e.classList.contains("clicked-item")&&(e.remove(),e.classList.remove("clicked-item"))}))}}class c{constructor(){this.arrangeAreaBox=new t,this.createButtons=new s,this.listRandom=new a,this.createList=new r,this.initialValues=this.listRandom.generateRandomStringArray(10,10),this.arrAvailable=this.createList.createList(this.initialValues),this.arrSelected=this.createList.createList(),this.buttonsArr=this.createButtons.buttonsArr,this.move=new n(this.arrAvailable,this.arrSelected,this.buttonsArr)}createArrangeArea(){return e.createElement("div","",{class:"arrange-box__area"},this.createButtons.createButtons(6,["+","↑","⇈","↓","⇊","DEL"],[()=>this.move.addListElement(this.arrAvailable),()=>this.move.upOneInAvailable(),()=>this.move.upAllInAvailable(),()=>this.move.downOneInAvailable(),()=>this.move.downAllInAvailable(),()=>this.move.delListElement(this.arrAvailable)]),this.arrangeAreaBox.createArrangeAreaBox("Available values",this.arrAvailable),this.createButtons.createButtons(4,[">",">>","<","<<"],[()=>this.move.moveSomeToSelected(),()=>this.move.moveAllToSelected(),()=>this.move.moveSomeToAvailable(),()=>this.move.moveAllToAvailable()]),this.arrangeAreaBox.createArrangeAreaBox("Selected values",this.arrSelected),this.createButtons.createButtons(6,["+","↑","⇈","↓","⇊","DEL"],[()=>this.move.addListElement(this.arrSelected),()=>this.move.upOneInSelected(),()=>this.move.upAllInSelected(),()=>this.move.downOneInSelected(),()=>this.move.downAllInSelected(),()=>this.move.delListElement(this.arrSelected)]))}}class o{constructor(e,t,s,a){this.arrAvailable=t,this.arrSelected=s,this.initialValues=a,this.container=e,this.move=new n,this.createList=new r}createControlArea(){const t=e.createElement("button","Get All Available Values",{class:"control-area__btn"});t.addEventListener("click",(()=>this.move.showValues(this.arrAvailable)));const s=e.createElement("button","Get All Selected Values",{class:"control-area__btn"});s.addEventListener("click",(()=>this.move.showValues(this.arrSelected)));const a=e.createElement("button","Create new arrange box",{class:"control-area__btn"});a.addEventListener("click",(()=>{this.createNewArrangeBox()}));const l=e.createElement("button","Reset",{class:"control-area__btn"});return l.addEventListener("click",(()=>this.reset())),e.createElement("div","",{class:"box control-area"},t,l,a,s)}resetList(e,t){e&&t&&(Array.from(e.children).forEach((e=>{e.remove()})),Array.from(t.children).forEach((e=>{e.remove()})))}reset(){this.arrAvailable&&(this.resetList(this.arrAvailable,this.arrSelected),this.initialValues.forEach((e=>{const t=document.createElement("li");t.classList.add("box__list-item"),t.addEventListener("click",(()=>this.createList.clickItem(t))),t.textContent=e,this.arrAvailable.append(t)}))),this.listSelected&&this.resetList(this.listSelected,this.listSelected)}createNewArrangeBox(){const t=new c,s=t.createArrangeArea(),a=new o(this.container,t.arrAvailable,t.arrSelected,t.initialValues).createControlArea();this.container.append(e.createElement("div","",{class:"box arrange-box"},a,s))}}class d{constructor(){this.container=document.getElementById("container"),this.render()}render(){const e=new c,t=new o(this.container,e.arrAvailable,e.arrSelected,e.initialValues),s=this.createArrangeBox(e,t);this.container.append(s)}createArrangeBox(t,s){return e.createElement("div","",{class:"box arrange-box"},s.createControlArea(),t.createArrangeArea())}}new class{constructor(){this.view=new d}}})();